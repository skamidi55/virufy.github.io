(this.webpackJsonpvirumap=this.webpackJsonpvirumap||[]).push([[21,37,47],{191:function(n,e,t){"use strict";t.d(e,"a",(function(){return f}));var r=t(200),a=t(6),o=t.n(a),i=t(189),u=t(188),c=t(190);function l(){var n=Object(i.a)(["\n  height: 50px;\n  border-radius: 15px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ","\n"]);return l=function(){return n},n}var d=u.default.button(l(),(function(n){var e=n.dark,t=n.disabled?c.a.purple_50:c.a.purple;return e?"\n    background-color: ".concat(t,";\n    color: ").concat(c.a.white,";\n    border: none;\n  "):"\n    background-color: ".concat(c.a.white,";\n    color: ").concat(t,";\n    border: 1px solid ").concat(t,";\n  ")})),f=o.a.memo((function(n){var e=n.children,t=Object(r.a)(n,["children"]);return o.a.createElement(d,Object.assign({type:"button"},t),e)}))},192:function(n,e,t){"use strict";var r=t(6),a=t.n(r),o=t(206);e.a=function(){var n=a.a.useContext(o.a),e=n.title,t=n.setTitle,r=n.subtitle,i=n.setSubtitle,u=n.type,c=n.setType,l=n.logoSize,d=n.setLogoSize,f=n.setDoGoBack;return{title:e,setTitle:t,subtitle:r,setSubtitle:i,type:u,setType:c,logoSize:l,setLogoSize:d,doGoBack:n.doGoBack,setDoGoBack:f}}},193:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var r=function(){window.scrollTo({top:0,behavior:"smooth"})}},194:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var r=t(6),a=t.n(r),o=t(191),i=t(189);function u(){var n=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: ",";\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n    min-height: 50px;\n    margin-bottom: 8px;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n  }\n\n  @media screen and (","){\n    max-width: 470px;\n  }\n"]);return u=function(){return n},n}var c=t(188).default.div(u(),(function(n){return"calc(100% - ".concat(2*n.theme.layout.generalPaddingAmount,"px)")}),(function(n){return n.theme.breakpoints.tablet})),l=a.a.memo((function(n){var e=n.invert,t=void 0!==e&&e,r=n.leftLabel,i=n.leftDisabled,u=n.leftHandler,l=n.rightLabel,d=n.rightDisabled,f=n.rightHandler;return a.a.createElement(c,null,a.a.createElement(o.a,{dark:t,disabled:i,onClick:u},r),l&&f&&a.a.createElement(o.a,{dark:!t,disabled:d,onClick:f},l))})),d=a.a.memo(l)},198:function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"a",(function(){return i}));var r=t(197),a=t(203);function o(n){return function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(r.a)({},n,Object(a.a)(Object(a.a)({},e[n]),t)))}}function i(){return function(n){return{welcome:{language:n.welcome.language}}}}},212:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t(227);function a(n,e){return new Promise((function(t){n.duration===1/0||r.isSafari&&!(r.isSafari&&n.duration>0)?(n.addEventListener("durationchange",(function(){e?n.remove():(n.pause(),n.volume=1,n.currentTime=0),t(n.duration)})),n.currentTime=86400,n.play()):t(n.duration)}))}},243:function(n,e,t){"use strict";var r=t(201),a=t.n(r),o=t(202),i=t(225),u=t(212);i.addMethod(i.mixed,"validateAudioLength",(function(n){return this.test("fileDuration","ERROR.FILE_DURATION",function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return r=t,(o=new Audio(URL.createObjectURL(r))).defaultMuted=!0,o.muted=!0,o.load(),e.next=8,new Promise((function(n){return o.addEventListener("loadedmetadata",n)}));case 8:return e.next=10,Object(u.a)(o);case 10:return i=e.sent,e.abrupt("return",i>=n);case 12:return e.abrupt("return",!!t);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})),i.addMethod(i.mixed,"validateAudioSize",(function(n){return this.test("fileSize","ERROR.FILE_SIZE",(function(e){return e?e.size<=Math.pow(1024,3)*n:!!e}))})),e.a=i},246:function(n,e,t){"use strict";t.d(e,"a",(function(){return g}));var r=t(200),a=t(6),o=t.n(a),i=t(286),u=t.n(i),c=t(775),l=t(191),d=t(189),f=t(188);function s(){var n=Object(d.a)(["\n  font-family: 'Source Sans Pro';\n  text-align: center;\n  line-height: 25px;\n  font-size: 18px;\n  margin-top: 10px;\n  margin-bottom: 30px;\n"]);return s=function(){return n},n}function p(){var n=Object(d.a)(["\n  font-family: 'Biko';\n  font-size: 30px;\n  line-height: 30px;\n  margin-bottom: 10px;\n  font-weight: 600;\n"]);return p=function(){return n},n}function m(){var n=Object(d.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (",") {\n    margin: auto;\n"]);return m=function(){return n},n}var b=f.default.div(m(),(function(n){return n.theme.breakpoints.tablet})),h=f.default.div(p()),v=f.default.div(s());u.a.setAppElement("#root");var g=o.a.memo((function(n){var e=n.modalTitle,t=n.children,a=n.onConfirm,i=Object(r.a)(n,["modalTitle","children","onConfirm"]),d=Object(c.a)().t;return o.a.createElement(u.a,Object.assign({},i,{style:{content:{height:"281px",maxWidth:"348px",margin:"auto",borderRadius:"10px",border:"none"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}}),o.a.createElement(b,{className:"ModalBody"},o.a.createElement(h,null,e),o.a.createElement(v,null,t),o.a.createElement(l.a,{onClick:a,dark:!0},d("recordingsIntroduction:retryButton","Retry"))))}))},267:function(n,e,t){"use strict";t.r(e),t.d(e,"MainContainer",(function(){return M})),t.d(e,"TextAddFile",(function(){return T})),t.d(e,"TextFileConstraints",(function(){return z})),t.d(e,"TextErrorContainer",(function(){return B})),t.d(e,"UploadContainer",(function(){return I})),t.d(e,"UploadInput",(function(){return A})),t.d(e,"UploadButton",(function(){return D})),t.d(e,"ArrowUp",(function(){return P})),t.d(e,"CloudsSVG",(function(){return U}));var r=t(189),a=t(188),o=t(190),i=t(207),u=t(6),c=t.n(u);function l(){return(l=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function d(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var f=c.a.createElement("path",{d:"M166.609 94.673C166.611 91.0315 165.894 87.4253 164.502 84.0606C163.109 80.6958 161.067 77.6384 158.492 75.063C155.917 72.4875 152.86 70.4445 149.495 69.0506C146.13 67.6568 142.524 66.9393 138.882 66.9393C137.294 66.94 135.71 67.0789 134.146 67.3547C134.166 56.8902 130.027 46.8466 122.64 39.4335C115.253 32.0204 105.223 27.8449 94.7569 27.8256C84.2909 27.8063 74.2459 31.9448 66.8317 39.3307C59.4175 46.7166 55.2414 56.7448 55.2221 67.2093C53.9521 67.0353 52.672 66.9451 51.3901 66.9393C44.1573 66.9086 37.1987 69.705 31.9989 74.7319C26.799 79.7588 23.7696 86.6183 23.5569 93.8471C23.3442 101.076 25.965 108.102 30.8602 113.425C35.7554 118.749 42.5375 121.95 49.7597 122.344H140.585C147.631 121.911 154.246 118.807 159.081 113.665C163.917 108.523 166.609 101.731 166.609 94.673Z",fill:"#D5E4FF"}),s=c.a.createElement("path",{d:"M197 38.8013C197.007 36.4261 196.493 34.0783 195.494 31.9232C194.495 29.7681 193.036 27.8581 191.219 26.3277C189.403 24.7973 187.272 23.6837 184.979 23.0654C182.685 22.4471 180.284 22.339 177.944 22.7488C177.827 16.6826 175.337 10.9037 171.009 6.65113C166.681 2.39858 160.858 0.0109033 154.79 3.72496e-05C148.722 -0.0108288 142.891 2.35598 138.547 6.593C134.204 10.83 131.694 16.6 131.555 22.6657C130.809 22.5576 130.056 22.5021 129.302 22.4996C125.066 22.5049 121 24.1578 117.962 27.1082C114.924 30.0587 113.154 34.0753 113.026 38.3078C112.897 42.5403 114.421 46.6567 117.275 49.7855C120.129 52.9144 124.088 54.8102 128.315 55.0718H181.703C185.844 54.8131 189.731 52.9865 192.573 49.9639C195.414 46.9413 196.997 42.9497 197 38.8013Z",fill:"#EAF1FF"}),p=c.a.createElement("path",{d:"M47.3115 91.1833C47.3115 88.7462 46.3432 86.4089 44.6197 84.6856C42.8961 82.9623 40.5585 81.9941 38.121 81.9941C37.5953 81.9913 37.0704 82.0365 36.5529 82.1291C36.5529 78.6621 35.1754 75.337 32.7235 72.8854C30.2715 70.4339 26.946 69.0566 23.4785 69.0566C20.0109 69.0566 16.6854 70.4339 14.2334 72.8854C11.7815 75.337 10.404 78.6621 10.404 82.1291C9.98039 82.0749 9.55377 82.0472 9.12669 82.046C6.74799 82.0626 4.46834 83.0006 2.76706 84.6629C1.06577 86.3252 0.0754078 88.5823 0.00413104 90.9597C-0.0671457 93.337 0.786245 95.6494 2.38488 97.4106C3.98352 99.1718 6.20286 100.245 8.57629 100.404H38.6922C41.0347 100.258 43.2327 99.2214 44.8354 97.507C46.4381 95.7926 47.324 93.53 47.3115 91.1833Z",fill:"#B1CDFF"}),m=function(n){var e=n.svgRef,t=n.title,r=d(n,["svgRef","title"]);return c.a.createElement("svg",l({viewBox:"0 0 197 123",fill:"none",ref:e},r),t?c.a.createElement("title",null,t):null,f,s,p)},b=c.a.forwardRef((function(n,e){return c.a.createElement(m,l({svgRef:e},n))}));t.p;function h(){return(h=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function v(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var g=c.a.createElement("path",{d:"M20 33.4749V6.52491",stroke:"#3578DE",strokeWidth:3.675,strokeLinecap:"round",strokeLinejoin:"round"}),O=c.a.createElement("path",{d:"M8.97485 17.5499L19.9999 6.5249L31.0249 17.5499",stroke:"#3578DE",strokeWidth:3.675,strokeLinecap:"round",strokeLinejoin:"round"}),x=function(n){var e=n.svgRef,t=n.title,r=v(n,["svgRef","title"]);return c.a.createElement("svg",h({viewBox:"0 0 40 40",fill:"none",ref:e},r),t?c.a.createElement("title",null,t):null,g,O)},C=c.a.forwardRef((function(n,e){return c.a.createElement(x,h({svgRef:e},n))}));t.p;function j(){var n=Object(r.a)(["\n  width: 197px;\n  height: 122px;\n  margin: 0 auto;\n  margin-top: 110px;\n  display: block;\n\n  @media screen and (",") {\n    width: 374px;\n    height: 299px;\n  }\n"]);return j=function(){return n},n}function E(){var n=Object(r.a)(["\n  width: 39px;\n  height: 39px;\n  position: absolute; \n  bottom: 55%;\n  pointer-events: none;\n\n  @media screen and (",") {\n    width: 80px;\n    height: 80px;\n    position: absolute;\n    bottom: 60%;\n  } \n"]);return E=function(){return n},n}function y(){var n=Object(r.a)(["\n  width: 98px;\n  height: 98px;\n  background-color: #EBF1FC;\n  border-radius: 50%;\n  cursor: pointer;\n  position: relative;\n  margin-top: -40%;\n\n  @media screen and (",") {\n    width: 200px;\n    height: 200px;\n    margin-bottom: 30px;\n  }\n"]);return y=function(){return n},n}function k(){var n=Object(r.a)(["\n  display: none;\n"]);return k=function(){return n},n}function w(){var n=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  margin: 0 auto;\n  position: relative;\n"]);return w=function(){return n},n}function R(){var n=Object(r.a)(["\n  font-size: 16px;\n  line-height: 20px;\n  color: ",";\n  font-family: 'Source Sans Pro';\n  display: 'flex';\n  height: 50px;\n"]);return R=function(){return n},n}function S(){var n=Object(r.a)(["\n  text-align: center;\n  line-height: 24px;\n  color: ",";\n\n  @media screen and (",") {\n    font-size: 1rem;\n    margin-top: 20px;\n  }\n"]);return S=function(){return n},n}function L(){var n=Object(r.a)(["\n  text-align: center;\n  line-height: 24px;\n\n  @media screen and (",") {\n    font-size: 1.75rem;\n  }\n"]);return L=function(){return n},n}function F(){var n=Object(r.a)(["\n  width: 100%; \n  max-width: 320px; \n  margin: auto; \n\n  @media screen and (",") {\n    margin-bottom: 64px;\n    max-width: 470px;\n  }\n"]);return F=function(){return n},n}var M=a.default.div(F(),(function(n){return n.theme.breakpoints.tablet})),T=Object(a.default)(i.a).attrs({dark:!0,fontSize:"1rem"})(L(),(function(n){return n.theme.breakpoints.tablet})),z=Object(a.default)(i.a).attrs({dark:!0,fontSize:"0.625rem"})(S(),(function(n){return n.theme.colors.darkGray}),(function(n){return n.theme.breakpoints.tablet})),B=a.default.div(R(),o.a.red),I=a.default.div(w()),A=a.default.input(k()),D=a.default.label(y(),(function(n){return n.theme.breakpoints.tablet})),P=Object(a.default)(C)(E(),(function(n){return n.theme.breakpoints.tablet})),U=Object(a.default)(b)(j(),(function(n){return n.theme.breakpoints.tablet}))},297:function(n,e,t){"use strict";t.r(e);var r=t(197),a=t(196),o=t(6),i=t.n(o),u=t(209),c=t(205),l=t.n(c),d=t(775),f=t(204),s=t(199),p=t(224),m=t(243),b=t(194),h=t(207),v=t(246),g=t(192);var O=t(198),x=t(193),C=t(267),j={recordYourBreath:5,recordYourSpeech:5,recordYourCough:3},E=m.a.object({uploadedFile:m.a.mixed().required("ERROR.FILE_REQUIRED").validateAudioSize(5).when("$_currentLogic",(function(n,e){return e.validateAudioLength(j[n]||5)}))}).defined();e.default=i.a.memo((function(n){var e,t,c=n.storeKey,m=n.previousStep,j=n.nextStep,y=n.metadata,k=l()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,w=Object(g.a)(),R=w.setDoGoBack,S=w.setTitle,L=w.setSubtitle,F=w.setType,M=Object(u.g)(),T=Object(s.d)(Object(O.b)(c)),z=T.state,B=T.action,I=function(){var n=i.a.useState(!1),e=Object(a.a)(n,2),t=e[0],r=e[1];return{isOpen:t,openModal:i.a.useCallback((function(){r(!0)}),[]),closeModal:i.a.useCallback((function(){r(!1)}),[]),toggleModal:i.a.useCallback((function(){r((function(n){return!n}))}),[])}}(),A=I.isOpen,D=I.openModal,P=I.closeModal,U=Object(o.useRef)(null),G=Object(f.e)({mode:"onChange",defaultValues:null===z||void 0===z||null===(e=z[c])||void 0===e?void 0:e[null===y||void 0===y?void 0:y.currentLogic],resolver:Object(p.a)(E)}).control,_=Object(d.a)().t,H=Object(u.h)(),Z=(null===H||void 0===H||null===(t=H.state)||void 0===t?void 0:t.isShortAudioCollection)||!1,V=i.a.useState(!0),W=Object(a.a)(V,2),Y=W[0],q=W[1],J=i.a.useState(""),N=Object(a.a)(J,2),Q=N[0],K=N[1],$=i.a.useCallback((function(n){j&&(B(Object(r.a)({},null===y||void 0===y?void 0:y.currentLogic,{recordingFile:null,uploadedFile:n})),q(!1),M.push(j,{from:"step-manual-upload",isShortAudioCollection:Z}))}),[j,B,y,M,Z]),X=i.a.useCallback((function(){q(!1),m?M.push(m,{isShortAudioCollection:Z}):M.goBack()}),[M,m,Z]),nn=i.a.useCallback((function(n){E.validate({uploadedFile:n}).then((function(){$(n)})).catch((function(n){"ERROR.FILE_SIZE"===n.errors[0]&&K(_("recordingsRecordManual:fileSizeTooBig")),"ERROR.FILE_REQUIRED"===n.errors[0]?K(_("recordingsRecordManual:fileRequired")):K(_("recordingsRecordManual:fileDurationTooShort")),D()}))}),[$,_,D]);return Object(o.useEffect)((function(){Object(x.a)(),S(_("recordingsRecordManual:header")),F("primary"),L(""),R((function(){return X}))}),[X,R,S,F,L,_]),i.a.createElement(i.a.Fragment,null,i.a.createElement(C.MainContainer,null,i.a.createElement(h.c,null,_("recordingsRecordManual:micError")),i.a.createElement(C.CloudsSVG,null),i.a.createElement(f.a,{control:G,name:"uploadedFile",render:function(n){var e=n.name;return i.a.createElement(C.UploadContainer,null,i.a.createElement(C.UploadButton,{htmlFor:"uploaded-file"}),i.a.createElement(C.ArrowUp,null),i.a.createElement(C.UploadInput,{ref:U,id:"uploaded-file",type:"file",name:e,accept:"audio/wav,audio/wave,audio/wav,audio/x-wav,audio/x-pn-wav,audio/mp3,audio/ogg",onChange:function(n){var e;return nn(null===(e=n.currentTarget.files)||void 0===e?void 0:e[0])}}))}})),i.a.createElement(v.a,{isOpen:A,modalTitle:"Oops.",onConfirm:P},Q),Y&&i.a.createElement(k,null,i.a.createElement(b.a,{invert:!0,leftLabel:_("recordingsRecordManual:uploadFile"),leftHandler:function(){var n;return null===(n=U.current)||void 0===n?void 0:n.click()}})))}))},315:function(n,e,t){"use strict";t.r(e);var r=t(297);t.d(e,"default",(function(){return r.default}))}}]);
//# sourceMappingURL=21.40ad7af7.chunk.js.map